"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.compileAbi = void 0;
const solc = require("solc");
exports.compileAbi = (content) => {
    const source = "interface.sol";
    const input = {
        language: "Solidity",
        sources: {
            [source]: {
                content,
            },
        },
        settings: {
            outputSelection: {
                "*": {
                    "*": ["abi"],
                },
            },
        },
    };
    const output = JSON.parse(solc.compile(JSON.stringify(input)));
    const errors = (output.errors || []).filter(({ type }) => type !== "Warning");
    if (errors.length > 0) {
        console.error(errors);
    }
    const { contracts } = output;
    const sourceOutput = contracts[source];
    return Object.values(sourceOutput)[0].abi;
};
//# sourceMappingURL=compile-abi.js.map